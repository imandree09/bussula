<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="~GIjB40wl)^Vhk749)%|">heading</variable><variable id="c#!(;^Bv2`5~U#6MfR*A">currentDirection</variable><variable id="He_|(~wq|^xvRe{8CBCE">lastDirection</variable><variable id="%okVo_]]hCbn%^w_P~ep">directions</variable></variables><block type="pxt-on-start" id="Qg]xXnSh{Q05)(xK=6/`" x="0" y="0"><statement name="HANDLER"><block type="typescript_statement" id="SfSyAUTByXOBk#=S3.6m"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let heading = 0" numlines="1" declaredvars="heading"></mutation><next><block type="device_print_message" id="42rCa97T*/}AOEYFooZb"><value name="text"><shadow type="text" id="3TUOC.+*a7*hs~f4iGVQ"><field name="TEXT">Calibrazione in corso...</field></shadow></value><next><block type="device_pause" id="zjZy}]fTTpX?UpZWiP/U"><value name="pause"><shadow type="timePicker" id="z]yL/0:ZpnIQlBL0SFm3"><field name="ms">100</field></shadow></value><next><block type="device_print_message" id="v@/zZFnPdVaw?t~Mi`K9"><value name="text"><shadow type="text" id="xDb5dW^aesBuOm*pc;1b"><field name="TEXT">...</field></shadow></value><next><block type="variables_set" id="(q0(Bx`kYZCAdQs-?D~7"><field name="VAR" id="%okVo_]]hCbn%^w_P~ep">directions</field><comment pinned="false" h="80" w="160">Programma per una bussola sul micro:bit (Versione 1)</comment><value name="VALUE"><shadow type="math_number" id="r9AD_=j0iFdY{Z1Ap%7i"><field name="NUM">0</field></shadow><block type="lists_create_with" id="%48$x;Oej)nsccTgY)!G" inline="false"><mutation items="9" horizontalafter="3"></mutation><value name="ADD0"><block type="typescript_expression" id="NXRO^b5+?]*RP^^NWdOj"><field name="EXPRESSION">{ name: "N", min: 0, max: 22 }</field></block></value><value name="ADD1"><block type="typescript_expression" id="4W5vV=O[+$LX)t*bc*Hg"><field name="EXPRESSION">{ name: "NE", min: 23, max: 67 }</field></block></value><value name="ADD2"><block type="typescript_expression" id="39/S.sWXxN+RqItJ.niR"><field name="EXPRESSION">{ name: "E", min: 68, max: 112 }</field></block></value><value name="ADD3"><block type="typescript_expression" id="={%s,lUpc|oJog1cM9^8"><field name="EXPRESSION">{ name: "SE", min: 113, max: 157 }</field></block></value><value name="ADD4"><block type="typescript_expression" id="D%al*p_P|?oY$KH_.6]y"><field name="EXPRESSION">{ name: "S", min: 158, max: 202 }</field></block></value><value name="ADD5"><block type="typescript_expression" id="YX@ufd|sJCr?F{4^$sgE"><field name="EXPRESSION">{ name: "SW", min: 203, max: 247 }</field></block></value><value name="ADD6"><block type="typescript_expression" id="i)}58/F(lM||/sZ=cS*}"><field name="EXPRESSION">{ name: "W", min: 248, max: 292 }</field></block></value><value name="ADD7"><block type="typescript_expression" id="e-mF`W*BK@2FCoJ/itWf"><field name="EXPRESSION">{ name: "NW", min: 293, max: 337 }</field></block></value><value name="ADD8"><block type="typescript_expression" id="DTv6C8({+]*DHyz{v}L4"><field name="EXPRESSION">{ name: "N", min: 338, max: 360 }</field></block></value></block></value><next><block type="device_pause" id="cD}?XNZKu_?s$t:~}07-"><value name="pause"><shadow type="timePicker" id="Lc{t@Q{Q:d:hyuH@l@W."><field name="ms">100</field></shadow></value><next><block type="input_compass_calibrate" id="4yiUy-[.Y.L:0]y(~;v]"><next><block type="device_print_message" id="ns~:{n^uag%(csBc%eO+"><value name="text"><shadow type="text" id="MG-atF)6P34[F@|z@GDJ"><field name="TEXT">Calibrazione terminata!</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_forever" id="-PY#*sD;8,,C/*-X`:TK" x="699" y="0"><statement name="HANDLER"><block type="variables_set" id="_37{;4msxVVbMNUmW(fQ"><field name="VAR" id="~GIjB40wl)^Vhk749)%|">heading</field><value name="VALUE"><shadow type="math_number" id=")M(6Of}%fjduUN~u(;rh"><field name="NUM">0</field></shadow><block type="device_heading" id="_[#2iaMB}=p`#iR]4uU:"></block></value><next><block type="typescript_statement" id="ZL+FL4wx/p(x7P=W3}q!"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let currentDirection = directions.find(direction =&gt;" line1="        heading &gt;= direction.min &amp;&amp; heading &lt;= direction.max" line2="    ).name;" numlines="3" declaredvars="currentDirection"></mutation><next><block type="controls_if" id="?h4(idZ!;W/K;u$A8X%T"><value name="IF0"><shadow type="logic_boolean" id="zUE^W9gXHp8l*]s|Z1ey"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="+S][RjPbPa[P[hj,xw4]"><field name="OP">NEQ</field><value name="A"><shadow type="math_number" id="]Ic1+cpsgBF-`Tp!8GV2"><field name="NUM">0</field></shadow><block type="variables_get" id="dw3GLkY-6.Gvh$yytW9h"><field name="VAR" id="c#!(;^Bv2`5~U#6MfR*A">currentDirection</field></block></value><value name="B"><shadow type="math_number" id="20YC~:HveBZ(b?;Em54C"><field name="NUM">0</field></shadow><block type="variables_get" id="Mg6D{_B6kn*ORuL=^,Vk"><field name="VAR" id="He_|(~wq|^xvRe{8CBCE">lastDirection</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="G-pBLY8WDR69nF`rAj?s"><field name="VAR" id="He_|(~wq|^xvRe{8CBCE">lastDirection</field><value name="VALUE"><shadow type="math_number" id="L*0UhDUO4)!zol!wp[Dh"><field name="NUM">0</field></shadow><block type="variables_get" id="-b)R0$vmR%3m4.66I`r^"><field name="VAR" id="c#!(;^Bv2`5~U#6MfR*A">currentDirection</field></block></value><next><block type="controls_if" id=":Qffu~rDcOLPb=[:4k_v"><mutation elseif="7"></mutation><comment pinned="false" h="80" w="160">Usa un simbolo compatto per ogni direzione</comment><value name="IF0"><shadow type="logic_boolean" id="%4@z_wZo0Qy}o~S:[PDt"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="^IuG|l`BHJHJ!98}-^Ac"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="@u@6$*j8t}@J8!Y=,dXN"><field name="NUM">0</field></shadow><block type="variables_get" id="pS0Vt)eG2H=!vP2$4$MB"><field name="VAR" id="c#!(;^Bv2`5~U#6MfR*A">currentDirection</field></block></value><value name="B"><shadow type="math_number" id="Un7nmnO+LOm2C(([G}LM"><field name="NUM">0</field></shadow><block type="text" id="^.4/ZTXtTMjNq8eejb|e"><field name="TEXT">N</field></block></value></block></value><statement name="DO0"><block type="basic_show_arrow" id="_i,W]wOhEr0Cl.@TS[yh"><value name="i"><shadow type="device_arrow" id="*83ZQADP;+|5tTe0trBd"><field name="arrow">ArrowNames.North</field></shadow></value></block></statement><value name="IF1"><shadow type="logic_boolean" id="O{XtNzL$4r+}_xe/%p%*"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id=".hO:v[I{(Z|bd;!..Y`T"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="DSHFgds(pg2Ywe[pAs[~"><field name="NUM">0</field></shadow><block type="variables_get" id="Z_r[)jLr_/^LiAhJ}/iH"><field name="VAR" id="c#!(;^Bv2`5~U#6MfR*A">currentDirection</field></block></value><value name="B"><shadow type="math_number" id="bD6JoxQ.;qEG#@5NV^u?"><field name="NUM">0</field></shadow><block type="text" id="gd{5-#n5*898{4QV.@ft"><field name="TEXT">NE</field></block></value></block></value><statement name="DO1"><block type="basic_show_arrow" id="i]w?L(i+}RbvQiiOx8!k"><value name="i"><shadow type="device_arrow" id="h]X5?nP4Hh*%;FyluIr*"><field name="arrow">ArrowNames.NorthEast</field></shadow></value></block></statement><value name="IF2"><shadow type="logic_boolean" id="V#QrKuDw.Fx_C4sd9d~u"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="?m$-%3Ro@@$A-$x#kyr-"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="Eii0*+F!}?tOZO;kn#;]"><field name="NUM">0</field></shadow><block type="variables_get" id="E2uOrFR+W#(UFt!g$=?="><field name="VAR" id="c#!(;^Bv2`5~U#6MfR*A">currentDirection</field></block></value><value name="B"><shadow type="math_number" id="Z97:=dLMJA8#`4aZ|J7m"><field name="NUM">0</field></shadow><block type="text" id="PdC4G=T!,FG00=qLp21|"><field name="TEXT">E</field></block></value></block></value><statement name="DO2"><block type="basic_show_arrow" id="#Q|Q~0c#{AK^7`[rXlr="><value name="i"><shadow type="device_arrow" id="NZbBVV4t{AdHvlpbM9-W"><field name="arrow">ArrowNames.East</field></shadow></value></block></statement><value name="IF3"><shadow type="logic_boolean" id="Vv[Erp|vsnO)/sbvj*=_"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="(@ge5v}S=`D0po:FGFRI"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="?E:GLGSi}i18*.IlxSK="><field name="NUM">0</field></shadow><block type="variables_get" id="pp(a:E^.0Fh}/5pwC0X3"><field name="VAR" id="c#!(;^Bv2`5~U#6MfR*A">currentDirection</field></block></value><value name="B"><shadow type="math_number" id="_K#LY!7x~xMC?z$_f^Va"><field name="NUM">0</field></shadow><block type="text" id="1yoR@*f,IA2WUWC;5obM"><field name="TEXT">SE</field></block></value></block></value><statement name="DO3"><block type="basic_show_arrow" id="r?1gPbhqSFEI5At]`(B+"><value name="i"><shadow type="device_arrow" id="-)7lUfNhp(eH/VGryj16"><field name="arrow">ArrowNames.SouthEast</field></shadow></value></block></statement><value name="IF4"><shadow type="logic_boolean" id=")?gAVfNAGl^DbFhsJ+yf"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="aAbNWwphBX5]kOnEQK[g"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="s*VuJ]_}[iGz{V_!eDgg"><field name="NUM">0</field></shadow><block type="variables_get" id="5hWRuTOFD+JGS]%5a$sJ"><field name="VAR" id="c#!(;^Bv2`5~U#6MfR*A">currentDirection</field></block></value><value name="B"><shadow type="math_number" id=")iz%GUK1zh5nvrC%OK*y"><field name="NUM">0</field></shadow><block type="text" id="7HMn0x*e_oW#8#Y-a)BA"><field name="TEXT">S</field></block></value></block></value><statement name="DO4"><block type="basic_show_arrow" id="4XYzN8++0$|NJsNYF,v_"><value name="i"><shadow type="device_arrow" id="]-E}nxIz,]R+BVh}/Teg"><field name="arrow">ArrowNames.South</field></shadow></value></block></statement><value name="IF5"><shadow type="logic_boolean" id="}3MrioUdOBu(*)A9XO}l"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="0h~uwd:*e$s*sV$}UM`Y"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="-tz%}t7S@URf7_{^F4pt"><field name="NUM">0</field></shadow><block type="variables_get" id="ODpST8ZDUf~bSv~VivQG"><field name="VAR" id="c#!(;^Bv2`5~U#6MfR*A">currentDirection</field></block></value><value name="B"><shadow type="math_number" id="(-!|-%dO2(VIy~7{80N-"><field name="NUM">0</field></shadow><block type="text" id="QMSTv5@WPe9tD35;9Pr~"><field name="TEXT">SW</field></block></value></block></value><statement name="DO5"><block type="basic_show_arrow" id="Yq}Y]p]n?/g5hN$k4~.n"><value name="i"><shadow type="device_arrow" id="T]csA_qdPS}9lTW~eK*-"><field name="arrow">ArrowNames.SouthWest</field></shadow></value></block></statement><value name="IF6"><shadow type="logic_boolean" id="dL8$EO*ThDpx?4TW|v.4"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="sEO[W1a%pz)BN@X`M:^~"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="6h=v-g=x,f_pnNm;u$~U"><field name="NUM">0</field></shadow><block type="variables_get" id="b5)o;z{Y0pQ^iP;qzi;I"><field name="VAR" id="c#!(;^Bv2`5~U#6MfR*A">currentDirection</field></block></value><value name="B"><shadow type="math_number" id="]%EtQ/`.7]|gAg*UOV(B"><field name="NUM">0</field></shadow><block type="text" id="E[o?f{IT5F7msHjhDQ|A"><field name="TEXT">W</field></block></value></block></value><statement name="DO6"><block type="basic_show_arrow" id="(-]eCzUcY]]esVKT.?oR"><value name="i"><shadow type="device_arrow" id="ky0bQX*r|uZi~i3xsezl"><field name="arrow">ArrowNames.West</field></shadow></value></block></statement><value name="IF7"><shadow type="logic_boolean" id="mld#}a!JgVh)h^iE117J"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="HKMZh$HaE*Jm,Px|a4J%"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="a2.](Z]8,v#|Zch4+JXn"><field name="NUM">0</field></shadow><block type="variables_get" id="+[S:42BL.G2wxHz+d:VW"><field name="VAR" id="c#!(;^Bv2`5~U#6MfR*A">currentDirection</field></block></value><value name="B"><shadow type="math_number" id="VXH_ko`jw]Uw]~Mv(mf$"><field name="NUM">0</field></shadow><block type="text" id="CRMxF1?{@]$krST,K5*F"><field name="TEXT">NW</field></block></value></block></value><statement name="DO7"><block type="basic_show_arrow" id="On8v[dmMyl}AM`n@lVsG"><value name="i"><shadow type="device_arrow" id=".VtY(~K303WD1j._WZ6s"><field name="arrow">ArrowNames.NorthWest</field></shadow></value></block></statement></block></next></block></statement><next><block type="device_pause" id="b2tYL?._2S}Dp$LT6x/m"><value name="pause"><shadow type="timePicker" id="zFk6GMEbbnK5g!1|kf)L"><field name="ms">100</field></shadow></value></block></next></block></next></block></next></block></statement></block></xml>